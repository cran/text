<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<style type="text/css">
@font-face {
font-family: octicons-link;
src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}
body {
-webkit-text-size-adjust: 100%;
text-size-adjust: 100%;
color: #333;
font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
font-size: 16px;
line-height: 1.6;
word-wrap: break-word;
}
a {
background-color: transparent;
}
a:active,
a:hover {
outline: 0;
}
strong {
font-weight: bold;
}
h1 {
font-size: 2em;
margin: 0.67em 0;
}
img {
border: 0;
}
hr {
box-sizing: content-box;
height: 0;
}
pre {
overflow: auto;
}
code,
kbd,
pre {
font-family: monospace, monospace;
font-size: 1em;
}
input {
color: inherit;
font: inherit;
margin: 0;
}
html input[disabled] {
cursor: default;
}
input {
line-height: normal;
}
input[type="checkbox"] {
box-sizing: border-box;
padding: 0;
}
table {
border-collapse: collapse;
border-spacing: 0;
}
td,
th {
padding: 0;
}
* {
box-sizing: border-box;
}
input {
font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}
a {
color: #4078c0;
text-decoration: none;
}
a:hover,
a:active {
text-decoration: underline;
}
hr {
height: 0;
margin: 15px 0;
overflow: hidden;
background: transparent;
border: 0;
border-bottom: 1px solid #ddd;
}
hr:before {
display: table;
content: "";
}
hr:after {
display: table;
clear: both;
content: "";
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 15px;
margin-bottom: 15px;
line-height: 1.1;
}
h1 {
font-size: 30px;
}
h2 {
font-size: 21px;
}
h3 {
font-size: 16px;
}
h4 {
font-size: 14px;
}
h5 {
font-size: 12px;
}
h6 {
font-size: 11px;
}
blockquote {
margin: 0;
}
ul,
ol {
padding: 0;
margin-top: 0;
margin-bottom: 0;
}
ol ol,
ul ol {
list-style-type: lower-roman;
}
ul ul ol,
ul ol ol,
ol ul ol,
ol ol ol {
list-style-type: lower-alpha;
}
dd {
margin-left: 0;
}
code {
font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
font-size: 12px;
}
pre {
margin-top: 0;
margin-bottom: 0;
font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}
.select::-ms-expand {
opacity: 0;
}
.octicon {
font: normal normal normal 16px/1 octicons-link;
display: inline-block;
text-decoration: none;
text-rendering: auto;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}
.octicon-link:before {
content: '\f05c';
}
.markdown-body:before {
display: table;
content: "";
}
.markdown-body:after {
display: table;
clear: both;
content: "";
}
.markdown-body>*:first-child {
margin-top: 0 !important;
}
.markdown-body>*:last-child {
margin-bottom: 0 !important;
}
a:not([href]) {
color: inherit;
text-decoration: none;
}
.anchor {
display: inline-block;
padding-right: 2px;
margin-left: -18px;
}
.anchor:focus {
outline: none;
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 1em;
margin-bottom: 16px;
font-weight: bold;
line-height: 1.4;
}
h1 .octicon-link,
h2 .octicon-link,
h3 .octicon-link,
h4 .octicon-link,
h5 .octicon-link,
h6 .octicon-link {
color: #000;
vertical-align: middle;
visibility: hidden;
}
h1:hover .anchor,
h2:hover .anchor,
h3:hover .anchor,
h4:hover .anchor,
h5:hover .anchor,
h6:hover .anchor {
text-decoration: none;
}
h1:hover .anchor .octicon-link,
h2:hover .anchor .octicon-link,
h3:hover .anchor .octicon-link,
h4:hover .anchor .octicon-link,
h5:hover .anchor .octicon-link,
h6:hover .anchor .octicon-link {
visibility: visible;
}
h1 {
padding-bottom: 0.3em;
font-size: 2.25em;
line-height: 1.2;
border-bottom: 1px solid #eee;
}
h1 .anchor {
line-height: 1;
}
h2 {
padding-bottom: 0.3em;
font-size: 1.75em;
line-height: 1.225;
border-bottom: 1px solid #eee;
}
h2 .anchor {
line-height: 1;
}
h3 {
font-size: 1.5em;
line-height: 1.43;
}
h3 .anchor {
line-height: 1.2;
}
h4 {
font-size: 1.25em;
}
h4 .anchor {
line-height: 1.2;
}
h5 {
font-size: 1em;
}
h5 .anchor {
line-height: 1.1;
}
h6 {
font-size: 1em;
color: #777;
}
h6 .anchor {
line-height: 1.1;
}
p,
blockquote,
ul,
ol,
dl,
table,
pre {
margin-top: 0;
margin-bottom: 16px;
}
hr {
height: 4px;
padding: 0;
margin: 16px 0;
background-color: #e7e7e7;
border: 0 none;
}
ul,
ol {
padding-left: 2em;
}
ul ul,
ul ol,
ol ol,
ol ul {
margin-top: 0;
margin-bottom: 0;
}
li>p {
margin-top: 16px;
}
dl {
padding: 0;
}
dl dt {
padding: 0;
margin-top: 16px;
font-size: 1em;
font-style: italic;
font-weight: bold;
}
dl dd {
padding: 0 16px;
margin-bottom: 16px;
}
blockquote {
padding: 0 15px;
color: #777;
border-left: 4px solid #ddd;
}
blockquote>:first-child {
margin-top: 0;
}
blockquote>:last-child {
margin-bottom: 0;
}
table {
display: block;
width: 100%;
overflow: auto;
word-break: normal;
word-break: keep-all;
}
table th {
font-weight: bold;
}
table th,
table td {
padding: 6px 13px;
border: 1px solid #ddd;
}
table tr {
background-color: #fff;
border-top: 1px solid #ccc;
}
table tr:nth-child(2n) {
background-color: #f8f8f8;
}
img {
max-width: 100%;
box-sizing: content-box;
background-color: #fff;
}
code {
padding: 0;
padding-top: 0.2em;
padding-bottom: 0.2em;
margin: 0;
font-size: 85%;
background-color: rgba(0,0,0,0.04);
border-radius: 3px;
}
code:before,
code:after {
letter-spacing: -0.2em;
content: "\00a0";
}
pre>code {
padding: 0;
margin: 0;
font-size: 100%;
word-break: normal;
white-space: pre;
background: transparent;
border: 0;
}
.highlight {
margin-bottom: 16px;
}
.highlight pre,
pre {
padding: 16px;
overflow: auto;
font-size: 85%;
line-height: 1.45;
background-color: #f7f7f7;
border-radius: 3px;
}
.highlight pre {
margin-bottom: 0;
word-break: normal;
}
pre {
word-wrap: normal;
}
pre code {
display: inline;
max-width: initial;
padding: 0;
margin: 0;
overflow: initial;
line-height: inherit;
word-wrap: normal;
background-color: transparent;
border: 0;
}
pre code:before,
pre code:after {
content: normal;
}
kbd {
display: inline-block;
padding: 3px 5px;
font-size: 11px;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.pl-c {
color: #969896;
}
.pl-c1,
.pl-s .pl-v {
color: #0086b3;
}
.pl-e,
.pl-en {
color: #795da3;
}
.pl-s .pl-s1,
.pl-smi {
color: #333;
}
.pl-ent {
color: #63a35c;
}
.pl-k {
color: #a71d5d;
}
.pl-pds,
.pl-s,
.pl-s .pl-pse .pl-s1,
.pl-sr,
.pl-sr .pl-cce,
.pl-sr .pl-sra,
.pl-sr .pl-sre {
color: #183691;
}
.pl-v {
color: #ed6a43;
}
.pl-id {
color: #b52a1d;
}
.pl-ii {
background-color: #b52a1d;
color: #f8f8f8;
}
.pl-sr .pl-cce {
color: #63a35c;
font-weight: bold;
}
.pl-ml {
color: #693a17;
}
.pl-mh,
.pl-mh .pl-en,
.pl-ms {
color: #1d3e81;
font-weight: bold;
}
.pl-mq {
color: #008080;
}
.pl-mi {
color: #333;
font-style: italic;
}
.pl-mb {
color: #333;
font-weight: bold;
}
.pl-md {
background-color: #ffecec;
color: #bd2c00;
}
.pl-mi1 {
background-color: #eaffea;
color: #55a532;
}
.pl-mdr {
color: #795da3;
font-weight: bold;
}
.pl-mo {
color: #1d3e81;
}
kbd {
display: inline-block;
padding: 3px 5px;
font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.task-list-item {
list-style-type: none;
}
.task-list-item+.task-list-item {
margin-top: 3px;
}
.task-list-item input {
margin: 0 0.35em 0.25em -1.6em;
vertical-align: middle;
}
:checked+.radio-label {
z-index: 1;
position: relative;
border-color: #4078c0;
}
.sourceLine {
display: inline-block;
}
code .kw { color: #000000; }
code .dt { color: #ed6a43; }
code .dv { color: #009999; }
code .bn { color: #009999; }
code .fl { color: #009999; }
code .ch { color: #009999; }
code .st { color: #183691; }
code .co { color: #969896; }
code .ot { color: #0086b3; }
code .al { color: #a61717; }
code .fu { color: #63a35c; }
code .er { color: #a61717; background-color: #e3d2d2; }
code .wa { color: #000000; }
code .cn { color: #008080; }
code .sc { color: #008080; }
code .vs { color: #183691; }
code .ss { color: #183691; }
code .im { color: #000000; }
code .va {color: #008080; }
code .cf { color: #000000; }
code .op { color: #000000; }
code .bu { color: #000000; }
code .ex { color: #000000; }
code .pp { color: #999999; }
code .at { color: #008080; }
code .do { color: #969896; }
code .an { color: #008080; }
code .cv { color: #008080; }
code .in { color: #008080; }
</style>
<style>
body {
box-sizing: border-box;
min-width: 200px;
max-width: 980px;
margin: 0 auto;
padding: 45px;
padding-top: 0px;
}
</style>


</head>

<body>

<h1 id="getting-started">Getting started</h1>
<p><a rel="me" href="https://mastodon.online/@oscarkjell">Oscar
Kjell</a></p>
<p>The <em>text</em>-package uses Hugging Face transformers language
models, natural language processing and machine learning methods to
examine text and numerical variables.</p>
<p>Please reference our tutorial article when using the package: <a href="https://osf.io/preprints/psyarxiv/293kt/">The text-package: An
R-package for Analyzing and Visualizing Human Language Using Natural
Language Processing and Deep Learning</a>.</p>
<p>To learn more about the textEmbed() functions see the tutorial
called: <a href="https://www.r-text.org/articles/huggingface_in_r.html">HuggingFace
Transformers in R: Word Embeddings Defaults and Specifications</a>.</p>
<p>This Getting Started tutorial is going through some central
<em>text</em> functions. The data comes from the <a href="https://pubmed.ncbi.nlm.nih.gov/29963879/">Kjell et al., 2019</a>
(<a href="https://osf.io/preprints/psyarxiv/er6t7/">pre-print</a>),
which show how individuals’ open-ended text answers can be used to
<em>measure</em>, <em>describe</em> and <em>differentiate</em>
psychological constructs.</p>
<p>In short the workflow includes to first transform text variables into
text-level and word type-level word embeddings. These word embeddings
are then used to predict numerical variables, compute semantic
similarity scores, and plot words in the word embedding space.</p>
<h3 id="textembed-mapping-text-to-numbers-using-huggingface-language-models">textEmbed():
mapping text to numbers using HuggingFace language models</h3>
<p>The <code>textEmbed()</code> function automatically transforms
character variables in a given tibble to word embeddings. The example
data that will be used in this tutorial comes from participants that
have described their harmony in life and satisfaction with life with a
text response, 10 descriptive words or rating scales. For a more
detailed description please see the <a href="https://www.r-text.org/articles/huggingface_in_r.html">word
embedding tutorial</a></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(text)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="co"># View example data including both text and numerical variables</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>Language_based_assessment_data_8</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="co"># Transform the text data to BERT word embeddings</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>word_embeddings <span class="ot">&lt;-</span> <span class="fu">textEmbed</span>(</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>  <span class="at">texts =</span> Language_based_assessment_data_8[<span class="dv">3</span>],</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a>  <span class="at">model =</span> <span class="st">&quot;bert-base-uncased&quot;</span>,</span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>  <span class="at">layers =</span> <span class="sc">-</span><span class="dv">2</span>,</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a>  <span class="at">aggregation_from_tokens_to_texts =</span> <span class="st">&quot;mean&quot;</span>,</span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a>  <span class="at">aggregation_from_tokens_to_word_types =</span> <span class="st">&quot;mean&quot;</span>,</span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a>  <span class="at">keep_token_embeddings =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a><span class="co"># See how word embeddings are structured</span></span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a>word_embeddings</span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a><span class="co"># Save the word embeddings to avoid having to import the text every time. (i.e., remove the ##)</span></span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a><span class="do">## saveRDS(word_embeddings, &quot;word_embeddings.rds&quot;)</span></span>
<span id="cb1-21"><a href="#cb1-21" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" tabindex="-1"></a><span class="co"># Get the word embeddings again (i.e., remove the ##)</span></span>
<span id="cb1-23"><a href="#cb1-23" tabindex="-1"></a><span class="do">## word_embeddings &lt;- readRDS(&quot;_YOURPATH_/word_embeddings.rds&quot;)</span></span></code></pre></div>
<h3 id="texttrain-examine-the-relationship-between-text-and-numeric-variables">textTrain():
Examine the relationship between text and numeric variables</h3>
<p>The <code>textTrain()</code> is used to examine how well the word
embeddings from a text can predict a numeric variable. This is done by
training the word embeddings using ridge regression and 10-fold
cross-validation. In the example below we examine how well the harmony
text responses can predict the rating scale scores from the Harmony in
life scale.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">library</span>(text)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="co"># Examine the relationship between harmonytext word embeddings and the harmony in life rating scale</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>model_htext_hils <span class="ot">&lt;-</span> <span class="fu">textTrain</span>(word_embeddings<span class="sc">$</span>texts<span class="sc">$</span>harmonywords, </span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>                              Language_based_assessment_data_8<span class="sc">$</span>hilstotal)</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="co"># Examine the correlation between predicted and observed Harmony in life scale scores</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>model_htext_hils<span class="sc">$</span>results</span></code></pre></div>
<h2 id="plot-statistically-significant-words">Plot statistically
significant words</h2>
<p>The text-package has several ways to plot words; here we will use the
Supervised Dimension Plot. The plotting is made in two steps: First the
<code>textProjection</code> function is pre-processing the data,
including computing statistics for each word type to be plotted. Second,
<code>textProjectionPlot()</code> is visualizing the words, including
many options to set color, font etc for the figure. Dividing this
procedure into two steps makes the process more transparent (since the
user naturally get to see the output that the words are plotted
according to) and quicker since the more heavy computations are made in
the first step, the last step goes quicker so that one can try different
design settings.</p>
<h3 id="textprojection-pre-process-data-for-plotting">textProjection():
Pre-process data for plotting</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">library</span>(text)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="co"># Pre-process data</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>projection_results <span class="ot">&lt;-</span> <span class="fu">textProjection</span>(</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>  <span class="at">words =</span> Language_based_assessment_data_8<span class="sc">$</span>harmonywords,</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>  <span class="at">word_embeddings =</span> word_embeddings<span class="sc">$</span>texts,</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>  <span class="at">word_types_embeddings =</span> word_embeddings<span class="sc">$</span>word_types,</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>  <span class="at">x =</span> Language_based_assessment_data_8<span class="sc">$</span>hilstotal,</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>  <span class="at">y =</span> Language_based_assessment_data_8<span class="sc">$</span>age</span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>)</span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a>projection_results<span class="sc">$</span>word_data</span></code></pre></div>
<h3 id="textprojectionplot-a-two-dimensional-word-plot">textProjectionPlot():
A two-dimensional word plot</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">library</span>(text)</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="co"># Supervised Dimension Projection Plot</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="co"># To avoid warnings -- and that words do not get plotted, first increase the max.overlaps for the entire session: </span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="fu">options</span>(<span class="at">ggrepel.max.overlaps =</span> <span class="dv">1000</span>)</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="co"># Supervised Dimension Projection Plot</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>plot_projection_2D <span class="ot">&lt;-</span> <span class="fu">textProjectionPlot</span>(</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>  <span class="at">word_data =</span> projection_results,</span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a> <span class="at">min_freq_words_plot =</span> <span class="dv">1</span>,</span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a> <span class="at">plot_n_word_extreme =</span> <span class="dv">10</span>,</span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a> <span class="at">plot_n_word_frequency =</span> <span class="dv">5</span>,</span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a> <span class="at">plot_n_words_middle =</span> <span class="dv">5</span>,</span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a> <span class="at">y_axes =</span> <span class="cn">TRUE</span>,</span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a> <span class="at">p_alpha =</span> <span class="fl">0.05</span>,</span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a> <span class="at">p_adjust_method =</span> <span class="st">&quot;fdr&quot;</span>,</span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a>  <span class="at">title_top =</span> <span class="st">&quot;Harmony Words Responses (Supervised Dimension Projection)&quot;</span>,</span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a>  <span class="at">x_axes_label =</span> <span class="st">&quot;Low vs. High Harmony in Life Scale Score&quot;</span>,</span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a>  <span class="at">y_axes_label =</span> <span class="st">&quot;Low vs.High Age&quot;</span>,</span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a>  <span class="at">bivariate_color_codes =</span> <span class="fu">c</span>(<span class="st">&quot;#E07f6a&quot;</span>, <span class="st">&quot;#60A1F7&quot;</span>, <span class="st">&quot;#85DB8E&quot;</span>,</span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a>                            <span class="st">&quot;#FF0000&quot;</span>, <span class="st">&quot;#EAEAEA&quot;</span>, <span class="st">&quot;#5dc688&quot;</span>,</span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a>                            <span class="st">&quot;#E07f6a&quot;</span>, <span class="st">&quot;#60A1F7&quot;</span>, <span class="st">&quot;#85DB8E&quot;</span></span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a>))</span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a><span class="co"># View plot</span></span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a>plot_projection_2D<span class="sc">$</span>final_plot</span></code></pre></div>
<h3 id="articles-using-the-text-package">Articles using the
text-package</h3>
<p><a href="https://www.sciencedirect.com/science/article/pii/S0165178123006170">Beyond
rating scales: With targeted evaluation, large language models are
poised for psychological assessment</a> <em>Kjell, Kjell and Schwartz.
(2024). Psychiatry Research</em></p>
<p><a href="https://www.nature.com/articles/s41598-022-07520-w">Natural
language analyzed with AI‐based transformers predict traditional
subjective well‐being measures approaching the theoretical upper limits
in accuracy</a> <em>Kjell et al., (2022). Scientific Reports</em></p>
<p><a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0270503">Doing
well-being: Self-reported activities are related to subjective
well-being</a>. <em>Nilsson, et al., (2022). PLOSONE</em></p>
<p><a href="https://www.frontiersin.org/articles/10.3389/fpsyg.2021.601679/">Computational
Language Assessments of Harmony in Life — Not Satisfaction With Life or
Rating Scales — Correlate With Cooperative Behaviors</a>. <em>Kjell et
al., (2021). Frontiers</em></p>
<p><a href="https://www.frontiersin.org/articles/10.3389/fpsyg.2021.602581/">Freely
Generated Word Responses Analyzed With Artificial Intelligence Predict
Self-Reported Symptoms of Depression, Anxiety, and Worry</a>. <em>Kjell
K., et al. (2021). Frontiers</em></p>
<h3 id="other-relevant-references">Other relevant references</h3>
<p>The below list consists of papers analyzing human language in a
similar fashion that is possible in <em>text</em>.</p>
<p><em><strong>Methods Articles</strong></em></p>
<p><a href="https://osf.io/preprints/psyarxiv/293kt/">The text-package:
An R-package for Analyzing and Visualizing Human Language Using Natural
Language Processing and Deep Learning</a> <em>Kjell, Salvatore, &amp;
Schwartz. (2024) Psychological Methods.</em></p>
<p><a href="http://www.peggykern.org/uploads/5/6/6/7/56678211/kern_2016_-_gaining_insights_from_social_media_language-_methodologies_and_challenges.pdf">Gaining
insights from social media language: Methodologies and
challenges</a>.<br />
<em>Kern et al., (2016). Psychological Methods.</em></p>
<p><a href="https://pubmed.ncbi.nlm.nih.gov/29963879/">Semantic
measures: Using natural language processing to measure, differentiate,
and describe psychological constructs.</a> <a href="https://osf.io/preprints/psyarxiv/er6t7/">Pre-print</a><br />
<em>Kjell et al., (2019). Psychological Methods.</em></p>
<p><em><strong>Clinical Psychology</strong></em></p>
<p>Facebook language predicts depression in medical records<br />
<em>Eichstaedt, J. C., … &amp; Schwartz, H. A. (2018). PNAS.</em></p>
<p><em><strong>Social and Personality Psychology</strong></em></p>
<p><a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0073791">Personality,
gender, and age in the language of social media: The open-vocabulary
approach</a><br />
<em>Schwartz, H. A., … &amp; Seligman, M. E. (2013). PloSOne.</em></p>
<p>Automatic Personality Assessment Through Social Media Language<br />
<em>Park, G., Schwartz, H. A., … &amp; Seligman, M. E. P. (2014).
Journal of Personality and Social Psychology.</em></p>
<p><em><strong>Health Psychology</strong></em></p>
<p>Psychological language on Twitter predicts county-level heart disease
mortality<br />
<em>Eichstaedt, J. C., Schwartz, et al. (2015). Psychological
Science.</em></p>
<p><em><strong>Positive Psychology</strong></em></p>
<p><a href="https://link.springer.com/article/10.1007/s11205-015-0903-z">The
Harmony in Life Scale Complements the Satisfaction with Life Scale:
Expanding the Conceptualization of the Cognitive Component of Subjective
Well-Being</a><br />
<em>Kjell, et al., (2016). Social Indicators Research</em></p>
<p><em><strong>Computer Science: Python Software</strong></em></p>
<p><a href="https://aclanthology.org/D17-2010/">DLATK: Differential
language analysis toolkit</a> <em>Schwartz, H. A., Giorgi, et al.,
(2017). In Proceedings of the 2017 Conference on Empirical Methods in
Natural Language Processing: System Demonstrations</em></p>
<p><a href="https://github.com/dlatk/dlatk">DLATK</a></p>

</body>
</html>
